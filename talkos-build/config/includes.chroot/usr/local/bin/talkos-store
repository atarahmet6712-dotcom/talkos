#!/usr/bin/env python3
import tkinter as tk
from tkinter import messagebox
import subprocess

APPS = [
    ("Visual Studio Code", "code", "Modern kod geliştirme editörü"),
    ("GIMP", "gimp", "Açık kaynak görüntü işleme aracı"),
    ("Chromium", "chromium", "Açık kaynak web tarayıcısı"),
    ("VLC Player", "vlc", "Evrensel medya oynatıcı"),
    ("Kdenlive", "kdenlive", "Profesyonel video düzenleyici")
]

class TalkOSStore(tk.Tk):
    def __init__(self):
        super().__init__()
        self.title("TalkOS Mağaza")
        self.geometry("600x500")
        self.configure(bg="#0F172A")
        self.resizable(False, False)
        
        lbl = tk.Label(self, text="TalkOS Uygulama Mağazası", font=("Helvetica", 20, "bold"), bg="#0F172A", fg="#06B6D4")
        lbl.pack(pady=20)
        
        frame = tk.Frame(self, bg="#0F172A")
        frame.pack(fill=tk.BOTH, expand=True, padx=20)
        
        for name, pkg, desc in APPS:
            row = tk.Frame(frame, bg="#1E293B", pady=10)
            row.pack(fill=tk.X, pady=5)
            
            info = tk.Label(row, text=f"{name}\n{desc}", font=("Helvetica", 12), bg="#1E293B", fg="white", justify=tk.LEFT)
            info.pack(side=tk.LEFT, padx=10)
            
            btn = tk.Button(row, text="Yükle", bg="#06B6D4", fg="#0F172A", font=("Helvetica", 10, "bold"),
                           command=lambda p=pkg: self.install_app(p))
            btn.pack(side=tk.RIGHT, padx=20)

    def install_app(self, pkg):
        msg = f"{pkg} paketi için terminal ekranı açılacak ve indirme başlayacaktır."
        messagebox.showinfo("Kurulum", msg)
        cmd = f"x-terminal-emulator -e 'sudo apt-get install -y {pkg}'"
        try:
            subprocess.Popen(cmd, shell=True)
        except Exception as e:
            messagebox.showerror("Hata", f"Yükleme başlatılamadı: {e}")

if __name__ == "__main__":
    app = TalkOSStore()
    app.mainloop()
